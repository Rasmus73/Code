package krabat.D3API;

import java.util.ArrayList;
import java.util.List;

import org.json.JSONArray;
import org.json.JSONException;
import org.json.JSONObject;

import com.krabat.mydiablo3api.R.string;

import krabat.Types.CareerProfile;
import krabat.Types.Diablo3APIError;
import krabat.Types.Hero;

public class Converter
{
	public static Diablo3APIError GetError(Exception ex)
	{		
		Diablo3APIError diablo3APIError = new Diablo3APIError();
		diablo3APIError.errorMessage = ex.getMessage();
		
		return diablo3APIError;
	}	

	public static CareerProfile GetCareerProfileFromJSON(String json)
	{

		
		try
		{
			JSONObject root = new JSONObject(json);
			JSONArray heroes = root.getJSONArray("heroes");

			for(int ix = 0; ix < heroes.length(); ix++)
			{
				CareerProfile careerProfile = new CareerProfile();
				
				JSONObject hero = heroes.getJSONObject(ix);
				careerProfile.name = hero.getString("name");
				
				
				careerProfiles.add(careerProfile)
				
			}
		}
		catch (JSONException e) 
		{
			// TODO Auto-generated catch block
			e.printStackTrace();
		}

		/*
		String  uniName = uniObject.getJSONObject("name");
		String uniURL = uniObject.getJSONObject("url");

		JSONObject oneObject = mainObject.getJSONObject("1");
		String id = oneObject.getJSONObject("id");

		
		"heroes" : [ {
			"paragonLevel" : 131,
			"name" : "Gandalfine",
			"id" : 1977311,
			"level" : 70,
			"hardcore" : false,
			"gender" : 1,
			"dead" : false,
			"class" : "wizard",
			"last-updated" : 1400105291
		*/
		
		
		
		
		
		careerProfile.name = json;

		return careerProfile;
	}

	
	public Hero GetHeroFromJSON(String json)
	{
		return null;		
	}
	
	
	
	
	
	
	

}
